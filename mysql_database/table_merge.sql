-- APP_SEQUENCE EN QUE SECUENCIA ESTA??????
USE retaily_db;

CREATE TABLE sambil_db__client AS
SELECT
      c.id, (c.id + 12000) AS new_id, c.name, c.document_id, c.address, c.celphone,
      c.email, c.date_create, c.wholesaler
 FROM sambil_db.client c
  WHERE c.id > 1
 ORDER BY c.id;

SET GLOBAL log_bin_trust_function_creators = 1;
DELIMITER //
DROP FUNCTION IF EXISTS GET_MIN_PRODUCT_ID //
CREATE FUNCTION GET_MIN_PRODUCT_ID (in_id BIGINT) RETURNS BIGINT
BEGIN
   DECLARE PRODUCT_ID BIGINT;
   DECLARE IN_CODE VARCHAR(40);
   SELECT z.code INTO IN_CODE
        FROM sambil_db.product z WHERE z.id = in_id;
   SELECT MIN(x.id) INTO PRODUCT_ID
      FROM madelta_db.product x
         WHERE TRIM(x.code) = TRIM(IN_CODE) AND LENGTH(IN_CODE) > 4;
   IF ISNULL(PRODUCT_ID) THEN
	SET PRODUCT_ID = in_id + 10000;
   END IF;
 RETURN PRODUCT_ID;
END;
//
DELIMITER ;

-- SELECT GET_MIN_PRODUCT_ID(1000);

-- SELECT *  FROM madelta_db.product x WHERE TRIM(x.code) = TRIM('631656710472') AND LENGTH('631656710472') > 4;

-- DROP TABLE sambil_db__product;
CREATE TABLE sambil_db__product AS
SELECT
    p.id,
    GET_MIN_PRODUCT_ID(p.id) as new_product_id,
    p.name, p.cost,
    p.price, p.margin, p.quantity, p.code,
    p.img_path, p.date_create, p.image_raw, p.active
FROM sambil_db.product p
--  WHERE p.active = 1
ORDER BY p.id;
-- 8644 = 18644
-- 8696 = 8008
-- 8702 = 8720
-- 8681 = 7771
-- SELECT
-- 	p.id, new_product_id,
--     p.name, p.code,
--     (SELECT x.name FROM madelta_db.product x WHERE x.id = p.new_product_id) AS min_name,
--     (SELECT x.code FROM madelta_db.product x WHERE x.id = p.new_product_id) AS min_code,
--     p.price, p.margin, p.quantity, p.cost,
--     p.date_create, p.active
-- FROM sambil_db__product p
--   WHERE p.id in (8644, 8696, 8702, 8681)
-- ;

-- DROP TABLE sambil_db__product;
-- CREATE TABLE sambil_db__product AS
-- SELECT
--     p.id, (p.id + 10000) as new_product_id, p.name, p.cost, p.price, p.margin, p.quantity, p.code, p.img_path, p.date_create, p.image_raw, p.active
-- FROM sambil_db.product p
-- ORDER BY p.id;

CREATE TABLE sambil_db__sale AS
SELECT
     s.id, (s.id * 10) as new_id, s.amount, s.sub, s.discount, s.tax_amount,
     s.delivery_charge, s.sequence, s.sequence_type,
     s.status, s.sale_type, s.date_create, s.login, s.client_id, (s.client_id + 12000) AS new_client_id
  FROM  sambil_db.sale s
ORDER BY s.id
;

CREATE TABLE sambil_db__sale_line AS
SELECT
      l.id, (l.id + 100000) as new_id,  l.amount, l.tax_amount, l.discount, l.quantity,
      l.total_amount, l.sale_id, (l.sale_id * 10) AS new_sale_id, l.product_id, GET_MIN_PRODUCT_ID(l.product_id) as new_product_id
FROM sambil_db.sale_line l
ORDER BY l.id;

CREATE TABLE sambil_db__sale_paid AS
SELECT
	  s.id, (s.id + 50000) AS new_id, s.amount, s.type, s.date_create, s.sale_id, (s.sale_id * 10) AS new_sale_id
FROM sambil_db.sale_paid s
ORDER BY s.id ;



CREATE TABLE client AS
SELECT
     c.id, c.name, c.document_id, c.address, c.celphone,
	c.email, c.date_create, c.wholesaler
FROM madelta_db.client c
WHERE
    c.id > 1
UNION ALL
SELECT
     new_id, c.name, c.document_id, c.address, c.celphone,
	c.email, c.date_create, c.wholesaler
FROM sambil_db__client c
WHERE
    c.id >= 214
;
ALTER TABLE `retaily_db`.`client`
CHANGE COLUMN `id` `id` BIGINT NOT NULL AUTO_INCREMENT ,
ADD PRIMARY KEY (`id`);
ALTER TABLE `retaily_db`.`client`
CHANGE COLUMN `date_create` `date_create` DATETIME NULL DEFAULT NOW() ;


SET @max_from_sale = (select MAX(id) + 1 from client);
SET @alter_table = CONCAT('ALTER TABLE client AUTO_INCREMENT =', @max_from_sale);
PREPARE current_statement FROM @alter_table;
EXECUTE current_statement;



CREATE TABLE TMP_PRODUCT AS
SELECT
    t.id,  t.name, t.cost, t.price, t.margin, t.code, t.img_path, t.date_create, t.image_raw, t.active,
    RANK() OVER (PARTITION BY t.id ORDER BY t.date_create DESC) AS rank_product_id
 FROM
(SELECT
    p.id,             p.name, p.cost, p.price, p.margin, p.code, p.img_path, p.date_create, p.image_raw, p.active
FROM madelta_db.product p
UNION ALL
SELECT
    p.new_product_id, p.name, p.cost, p.price, p.margin, p.code, p.img_path, p.date_create, p.image_raw, p.active
FROM sambil_db__product p) AS t
ORDER BY t.id;

CREATE TABLE product AS
 SELECT t.id,  t.name, t.cost, t.price, t.margin, t.code, t.img_path, t.date_create, t.image_raw, t.active
   FROM TMP_PRODUCT t
  WHERE t.rank_product_id = 1
;

ALTER TABLE `retaily_db`.`product`
CHANGE COLUMN `id` `id` BIGINT NOT NULL AUTO_INCREMENT ,
ADD PRIMARY KEY (`id`);


CREATE TABLE sale AS
SELECT
	 s.id, s.amount, s.sub, s.discount, s.tax_amount,
     s.delivery_charge, s.sequence, s.sequence_type,
     s.status, s.sale_type, s.date_create, s.login,  s.client_id, 1 as store_id
FROM
    madelta_db.sale s
UNION ALL
SELECT
	 s.new_id, s.amount, s.sub, s.discount, s.tax_amount,
     s.delivery_charge, s.sequence, s.sequence_type,
     s.status, s.sale_type, s.date_create, s.login, s.new_client_id, 2 as store_id
FROM
    sambil_db__sale s;

ALTER TABLE `retaily_db`.`sale`
CHANGE COLUMN `id` `id` BIGINT NOT NULL AUTO_INCREMENT ,
ADD PRIMARY KEY (`id`);

ALTER TABLE `retaily_db`.`sale`
CHANGE COLUMN `date_create` `date_create` DATETIME NULL DEFAULT NOW() ;

ALTER TABLE `retaily_db`.`sale`
ADD COLUMN `additional_info` VARCHAR(1000) NULL;



SET @max_from_sale = (select MAX(id) + 1 from sale);
SET @alter_table = CONCAT('ALTER TABLE sale AUTO_INCREMENT =', @max_from_sale);
PREPARE current_statement FROM @alter_table;
EXECUTE current_statement;


CREATE TABLE sale_line AS
SELECT
      l.id,  l.amount, l.tax_amount, l.discount, l.quantity,
      l.total_amount, l.sale_id,  l.product_id
FROM madelta_db.sale_line l
UNION ALL
SELECT
      l.new_id, l.amount, l.tax_amount, l.discount, l.quantity,
      l.total_amount, l.new_sale_id,  l.new_product_id
FROM sambil_db__sale_line l;

ALTER TABLE `retaily_db`.`sale_line`
CHANGE COLUMN `id` `id` BIGINT NOT NULL AUTO_INCREMENT ,
ADD PRIMARY KEY (`id`);

SET @max_from_sale = (select MAX(id) + 1 from sale_line);
SET @alter_table = CONCAT('ALTER TABLE sale_line AUTO_INCREMENT =', @max_from_sale);
PREPARE current_statement FROM @alter_table;
EXECUTE current_statement;


CREATE TABLE sale_paid AS
SELECT
	  s.id, s.amount, s.type, s.date_create, s.sale_id
FROM madelta_db.sale_paid s
UNION ALL
SELECT
	  s.new_id, s.amount, s.type, s.date_create, s.new_sale_id
FROM sambil_db__sale_paid s;

ALTER TABLE `retaily_db`.`sale_paid`
CHANGE COLUMN `id` `id` BIGINT NOT NULL AUTO_INCREMENT ,
ADD PRIMARY KEY (`id`);

SET @max_from_sale = (select MAX(id) + 1 from sale_paid);
SET @alter_table = CONCAT('ALTER TABLE sale_paid AUTO_INCREMENT =', @max_from_sale);
PREPARE current_statement FROM @alter_table;
EXECUTE current_statement;


CREATE TABLE app_sequence AS
 SELECT * FROM madelta_db.app_sequence;

 ALTER TABLE `retaily_db`.`app_sequence`
CHANGE COLUMN `id` `id` BIGINT NOT NULL AUTO_INCREMENT ,
ADD PRIMARY KEY (`id`);


CREATE TABLE `app_store` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(50) DEFAULT NULL,
  `date_create` datetime DEFAULT CURRENT_TIMESTAMP,
  `company_id` varchar(50) DEFAULT NULL,
  `slogan` varchar(150) DEFAULT NULL,
  `logo` longtext,
  `address` VARCHAR(200) NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `ix_app_store_name` (`name`),
  KEY `ix_app_store_id` (`id`)
) ENGINE=InnoDB;

INSERT INTO app_store (`id`, `name`) VALUES (1, 'MADELTA');
INSERT INTO app_store (`id`, `name`) VALUES (2, 'SAMBIL');
INSERT INTO app_store (`id`, `name`) VALUES (3, 'LOPE');

UPDATE `retaily_db`.`app_store` SET `logo` = 'data:image/png;base64,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' WHERE (`id` = '1');
UPDATE `retaily_db`.`app_store` SET `logo` = 'data:image/png;base64,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' WHERE (`id` = '2');
UPDATE `retaily_db`.`app_store` SET `company_id` = '131-36270-2', `slogan` = 'NUTRICION DEPORTIVA' WHERE (`id` = '1');
UPDATE `retaily_db`.`app_store` SET `company_id` = '131-36270-2', `slogan` = 'NUTRICION DEPORTIVA' WHERE (`id` = '2');
UPDATE `retaily_db`.`app_store` SET `address` = 'EVOFIT WB SRL, PLAZA MADELTA CHURCHILL' WHERE (`id` = '1');
UPDATE `retaily_db`.`app_store` SET `address` = 'EVOFIT WB SRL, SAMBIL AC-10 NIVEL ACUARIO' WHERE (`id` = '2');




-- DROP TABLE app_inventory;
CREATE TABLE `app_inventory` (
  `id` int NOT NULL AUTO_INCREMENT,
  `prev_quantity` int DEFAULT '0',
  `quantity` int DEFAULT NULL,
  `next_quantity` int DEFAULT '0',
  `status` varchar(10) DEFAULT 'quiet',
  `last_update` datetime DEFAULT NULL,
  `user_updated` varchar(90) DEFAULT NULL,
  `product_id` BIGINT DEFAULT NULL,
  `store_id` int DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `product_id` (`product_id`),
  KEY `store_id` (`store_id`),
  KEY `ix_app_inventory_id` (`id`),
  CONSTRAINT `app_inventory_ibfk_1` FOREIGN KEY (`product_id`) REFERENCES `product` (`id`),
  CONSTRAINT `app_inventory_ibfk_2` FOREIGN KEY (`store_id`) REFERENCES `app_store` (`id`)
) ENGINE=InnoDB;

 -- INSERT INTO app_inventory (quantity, next_quantity, product_id, store_id)
--  SELECT p.quantity, p.quantity, p.id, 1 FROM madelta_db.product p WHERE p.active = 1;
--
--  INSERT INTO app_inventory (quantity, next_quantity, product_id, store_id)
--  SELECT 0, 0, p.id, 2 FROM madelta_db.product p WHERE p.active = 1;
--
--
--  INSERT INTO app_inventory (quantity, next_quantity, product_id, store_id)
--  SELECT p.quantity, p.quantity, p.new_product_id, 2 FROM sambil_db__product p WHERE p.active = 1;
--
--  INSERT INTO app_inventory (quantity, next_quantity, product_id, store_id)
--  SELECT 0, 0, p.new_product_id, 1 FROM sambil_db__product p WHERE p.active = 1;


CREATE TABLE `app_inventory_head` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(90) DEFAULT NULL,
  `date_create` datetime DEFAULT CURRENT_TIMESTAMP,
  `date_close` datetime DEFAULT NULL,
  `status` int DEFAULT '0',
  `memo` varchar(500) DEFAULT NULL,
  `store_id` int DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `store_id_inv_head_fk_idx` (`store_id`),
  CONSTRAINT `store_id_inv_head_fk` FOREIGN KEY (`store_id`) REFERENCES `app_store` (`id`)
) ENGINE=InnoDB;

CREATE TABLE `app_users` (
  `id` int NOT NULL AUTO_INCREMENT,
  `username` varchar(20) DEFAULT NULL,
  `password` varchar(200) DEFAULT NULL,
  `first_name` varchar(20) DEFAULT NULL,
  `last_name` varchar(30) DEFAULT NULL,
  `is_active` int DEFAULT NULL,
  `date_joined` datetime DEFAULT NULL,
  `last_login` datetime DEFAULT NULL,
  `pic` longtext,
  PRIMARY KEY (`id`),
  UNIQUE KEY `ix_app_users_username` (`username`),
  KEY `ix_app_users_id` (`id`)
) ENGINE=InnoDB;

INSERT app_users
SELECT * FROM evofit_sambil.app_users;

CREATE TABLE `app_user_store` (
  `user_id` int NOT NULL,
  `store_id` int NOT NULL,
  PRIMARY KEY (`user_id`,`store_id`),
  KEY `store_id_fk_idx` (`store_id`),
  CONSTRAINT `store_id_fk` FOREIGN KEY (`store_id`) REFERENCES `app_store` (`id`),
  CONSTRAINT `user_id_fk` FOREIGN KEY (`user_id`) REFERENCES `app_users` (`id`)
) ENGINE=InnoDB;

INSERT INTO app_user_store(user_id, store_id) VALUES (5, 1);
INSERT INTO app_user_store(user_id, store_id) VALUES (5, 2);
INSERT INTO app_user_store(user_id, store_id) VALUES (7, 1);
INSERT INTO app_user_store(user_id, store_id) VALUES (7, 2);

CREATE TABLE `product_order` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(90) DEFAULT NULL,
  `memo` varchar(500) DEFAULT NULL,
  `order_type` varchar(45) DEFAULT NULL,
  `user_requester` varchar(45) DEFAULT NULL,
  `user_receiver` varchar(45) DEFAULT NULL,
  `date_opened` datetime DEFAULT CURRENT_TIMESTAMP,
  `date_closed` datetime DEFAULT NULL,
  `from_origin_id` int DEFAULT NULL,
  `to_store_id` int DEFAULT NULL,
  `status` varchar(45) DEFAULT 'opened',
  PRIMARY KEY (`id`),
  KEY `to_store_id_fk_order_idx` (`to_store_id`),
  CONSTRAINT `to_store_id_fk_order` FOREIGN KEY (`to_store_id`) REFERENCES `app_store` (`id`)
) ENGINE=InnoDB;

CREATE TABLE `product_order_line` (
  `id` int NOT NULL AUTO_INCREMENT,
  `product_id` BIGINT DEFAULT NULL,
  `from_origin_id` int DEFAULT NULL,
  `to_store_id` int DEFAULT NULL,
  `product_order_id` int DEFAULT NULL,
  `quantity` int DEFAULT NULL,
  `quantity_observed` int DEFAULT NULL,
  `status` varchar(10) DEFAULT 'pending',
  `date_create` datetime DEFAULT CURRENT_TIMESTAMP,
  `user_receiver` varchar(45) DEFAULT NULL,
  `receiver_last_update` datetime DEFAULT NULL,
  `receiver_memo` varchar(500) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `mov_product_id_fk_idx` (`product_id`),
  KEY `move_to_store_id_fk_idx` (`to_store_id`),
  KEY `product_order_id_fk_idx` (`product_order_id`),
  CONSTRAINT `mov_product_id_fk` FOREIGN KEY (`product_id`) REFERENCES `product` (`id`),
  CONSTRAINT `move_to_store_id_fk` FOREIGN KEY (`to_store_id`) REFERENCES `app_store` (`id`),
  CONSTRAINT `product_order_id_fk` FOREIGN KEY (`product_order_id`) REFERENCES `product_order` (`id`)
) ENGINE=InnoDB;

CREATE TABLE `bulk_order` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(45) DEFAULT NULL,
  `memo` varchar(500) DEFAULT NULL,
  `date_create` datetime DEFAULT CURRENT_TIMESTAMP,
  `user_create` varchar(45) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB;

CREATE TABLE `bulk_order_line` (
  `id` int NOT NULL AUTO_INCREMENT,
  `bulk_order_id` int DEFAULT NULL,
  `product_order_id` int DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `bulk_order_id_fk_idx` (`bulk_order_id`),
  KEY `oder_bulk_id_fk_idx` (`product_order_id`),
  CONSTRAINT `bulk_order_id_fk` FOREIGN KEY (`bulk_order_id`) REFERENCES `bulk_order` (`id`),
  CONSTRAINT `oder_bulk_id_fk` FOREIGN KEY (`product_order_id`) REFERENCES `product_order` (`id`)
) ENGINE=InnoDB;

CREATE TABLE `pricing` (
  `id` int NOT NULL AUTO_INCREMENT,
  `label` varchar(90) NOT NULL,
  `user_modified` varchar(90) DEFAULT NULL,
  `date_create` datetime DEFAULT CURRENT_TIMESTAMP,
  `price_key` varchar(45) NOT NULL,
  `status` int DEFAULT '1',
  PRIMARY KEY (`id`),
  UNIQUE KEY `name_UNIQUE` (`label`),
  UNIQUE KEY `price_key_UNIQUE` (`price_key`)
) ENGINE=InnoDB;

CREATE TABLE `pricing_list` (
  `id` int NOT NULL AUTO_INCREMENT,
  `price` double DEFAULT NULL,
  `user_modified` varchar(90) DEFAULT NULL,
  `date_create` datetime DEFAULT CURRENT_TIMESTAMP,
  `product_id` BIGINT DEFAULT NULL,
  `pricing_id` int DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `prod_idx` (`product_id`),
  KEY `pricing_id_fk_idx` (`pricing_id`),
  CONSTRAINT `pricing_id_fk` FOREIGN KEY (`pricing_id`) REFERENCES `pricing` (`id`),
  CONSTRAINT `product_id_fk` FOREIGN KEY (`product_id`) REFERENCES `product` (`id`)
) ENGINE=InnoDB;


INSERT INTO pricing(label, user_modified, date_create, price_key, status)
 VALUES ('Price (Default)', 'SYSTEM', NOW(), 'DEFAULT', 1);

INSERT INTO pricing_list (price, user_modified, product_id, pricing_id)
SELECT p.price, 'SYSTEM', p.id, 1 FROM product p;


CREATE TABLE `provider` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(50) DEFAULT NULL,
  `date_create` datetime DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE KEY `ix_app_store_name` (`name`),
  KEY `ix_app_store_id` (`id`)
) ENGINE=InnoDB;

INSERT INTO provider
SELECT * FROM evofit_sambil.provider;

CREATE TABLE `scopes` (
  `id` int NOT NULL AUTO_INCREMENT,
  `name` varchar(50) DEFAULT NULL,
  `user_id` int DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `user_id` (`user_id`),
  KEY `ix_scopes_id` (`id`),
  CONSTRAINT `scopes_ibfk_1` FOREIGN KEY (`user_id`) REFERENCES `app_users` (`id`)
) ENGINE=InnoDB;

INSERT INTO scopes
SELECT * FROM evofit_sambil.scopes;

CREATE TABLE `retaily_db`.`scope_list` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(200) NULL,
  PRIMARY KEY (`id`));


-- select * from app_inventory where product_id = 9052;

-- SELECT
--       i.quantity, p.name, p.cost, p.active
-- FROM app_inventory i, product p
-- WHERE i.store_id = 1
-- AND p.id = i.product_id;

-- select FORMAT(SUM(cost * quantity), 2) costo_inventario
--    from madelta_db.product
--    where active = 1
--      and quantity > 0;

-- select FORMAT(SUM(p.cost * i.quantity), 2) costo_inventario
--    from product p, app_inventory i
--    where
-- 		  p.id = i.product_id
-- 	 and  i.store_id = 1
--      and  p.active = 1
--      and quantity > 0;

INSERT INTO app_inventory (prev_quantity, quantity, next_quantity, product_id, store_id)
 SELECT p.quantity, p.quantity, p.quantity, p.id, 1 FROM madelta_db.product p ;

 INSERT INTO app_inventory (prev_quantity, quantity, next_quantity, product_id, store_id)
 SELECT 0, 0, 0, p.id, 2  FROM madelta_db.product p
	 WHERE p.id NOT IN (
			 SELECT m.id
			  FROM madelta_db.product m, sambil_db__product s
			  WHERE
				 m.id = s.new_product_id
	)
    ;


 INSERT INTO app_inventory (prev_quantity, quantity, next_quantity, product_id, store_id)
 SELECT p.quantity, p.quantity, p.quantity, p.new_product_id, 2 FROM sambil_db__product p ;

 INSERT INTO app_inventory (prev_quantity, quantity, next_quantity, product_id, store_id)
 SELECT 0, 0, 0, p.new_product_id, 1 FROM sambil_db__product p
	 WHERE p.new_product_id NOT IN (
			 SELECT m.id
			  FROM madelta_db.product m, sambil_db__product s
			  WHERE
				 m.id = s.new_product_id
	);

DELETE FROM app_inventory WHERE id IN (4321, 4480, 4481, 4482, 4169, 4477, 4468);


INSERT INTO app_inventory (quantity, next_quantity, product_id, store_id)
 SELECT 0, 0, p.id, 3 FROM product p ;

INSERT INTO bulk_order (name, memo, user_create) VALUES ('IMPORACION', 'DEMO DEBUG', 'SYS');

ALTER TABLE `retaily_db`.`product`
ADD COLUMN `user_modified` VARCHAR(45) NULL AFTER `active`;

-- -- 8936
SELECT p.id, count(*) FROM product p, app_inventory i
 WHERE
      p.id = i.product_id
  -- and p.active = 1
  -- and i.quantity > 0
   and i.store_id = 2
	GROUP BY p.id
    HAVING COUNT(p.id) > 1
;
-- -- -- --
-- SELECT * FROM app_inventory WHERE product_id = 8787 and store_id = 2;

-- SELECT * FROM sambil_db__product WHERE new_product_id = 7888;
-- SELECT * FROM product WHERE id = 7888;
--
--  select id, name, cost, quantity, active  from sambil_db.product
--   where active = 1
--      and quantity > 0
--  order by id;


-- select id, name, code from product
--  where active = 1
--   order by code
--  ;

-- UPDATE sale_line s, product p
--    SET s.product_id = (SELECT MIN(p.id) FROM product p WHERE TRIM(p.code) = TRIM(p.code))
-- WHERE
--     s.product_id = p.id
-- AND LENGTH(p.code) > 4
-- AND s.id > 0
-- ;

-- UPDATE app_inventory i, product p
--    SET i.product_id = (SELECT MIN(p.id) FROM product p WHERE TRIM(p.code) = TRIM(p.code))
-- WHERE
--     i.product_id = p.id
-- AND LENGTH(p.code) > 4
-- AND i.id > 0
-- ;

-- UPDATE pricing_list i, product p
--    SET i.product_id = (SELECT MIN(p.id) FROM product p WHERE TRIM(p.code) = TRIM(p.code))
-- WHERE
--     i.product_id = p.id
-- AND LENGTH(p.code) > 4
-- AND i.id > 0
-- ;

-- DELETE FROM product p
--   WHERE p.id = (SELECT t.max_id FROM (SELECT MAX(i.id) as max_id FROM product i WHERE TRIM(i.code) = TRIM(p.code)) AS t)
-- 	AND LENGTH(p.code) > 4
-- 	AND p.id > 0
--  ;

 -- SELECT p.id, p.name, p.code, p.active FROM product p ORDER BY p.code ;


-- SELECT t.max_id FROM (SELECT MAX(i.id) as max_id FROM product i WHERE TRIM(i.code) = TRIM('631656710472')) AS t;

-- SELECT * FROM product p WHERE TRIM(p.code) = TRIM('631656710472');

 -- select * from sale_line where product_id = 19076;

 -- SELECT i.*, (SELECT MIN(p.id) FROM product p WHERE TRIM(p.code) = TRIM(x.code) AND LENGTH(p.code) > 4) as x_product_id
--    FROM app_inventory i, product x
--   where i.store_id = 2
--   AND i.product_id = x.id
--   ORDER BY i.product_id;
--
--   select *  from product where id = 7342;

select * from app_users;
COMMIT;

INSERT INTO `retaily_db`.`scopes` (`name`, `user_id`) VALUES ('dashboard.view', 8);
INSERT INTO `retaily_db`.`scopes` (`name`, `user_id`) VALUES ('sales.pos', 8);
INSERT INTO `retaily_db`.`scopes` (`name`, `user_id`) VALUES ('sales', 8);
INSERT INTO `retaily_db`.`scopes` (`name`, `user_id`) VALUES ('sales.view', 8);
INSERT INTO `retaily_db`.`scopes` (`name`, `user_id`) VALUES ('inventory.stores', 8);
INSERT INTO `retaily_db`.`scopes` (`name`, `user_id`) VALUES ('inventory.view', 8);
INSERT INTO `retaily_db`.`scopes` (`name`, `user_id`) VALUES ('product.view', 8);

INSERT INTO `retaily_db`.`scopes` (`name`, `user_id`) VALUES ('dashboard.view', '7');
INSERT INTO `retaily_db`.`scopes` (`name`, `user_id`) VALUES ('sales.pos', '7');
INSERT INTO `retaily_db`.`scopes` (`name`, `user_id`) VALUES ('sales.view', '7');
INSERT INTO `retaily_db`.`scopes` (`name`, `user_id`) VALUES ('sales.filter.user', '7');
INSERT INTO `retaily_db`.`scopes` (`name`, `user_id`) VALUES ('sales.filter.store', '7');
INSERT INTO `retaily_db`.`scopes` (`name`, `user_id`) VALUES ('inventory.view', '7');
INSERT INTO `retaily_db`.`scopes` (`name`, `user_id`) VALUES ('inventory.stores', '7');
INSERT INTO `retaily_db`.`scopes` (`name`, `user_id`) VALUES ('inventory.bulk', '7');
INSERT INTO `retaily_db`.`scopes` (`name`, `user_id`) VALUES ('inventory.movement.request', '7');
INSERT INTO `retaily_db`.`scopes` (`name`, `user_id`) VALUES ('inventory.movement.response', '7');
INSERT INTO `retaily_db`.`scopes` (`name`, `user_id`) VALUES ('inventory.purchase.request', '7');
INSERT INTO `retaily_db`.`scopes` (`name`, `user_id`) VALUES ('inventory.purchase.response', '7');
INSERT INTO `retaily_db`.`scopes` (`name`, `user_id`) VALUES ('user.view', '7');
INSERT INTO `retaily_db`.`scopes` (`name`, `user_id`) VALUES ('user.setting', '7');
INSERT INTO `retaily_db`.`scopes` (`name`, `user_id`) VALUES ('report.view', '7');
INSERT INTO `retaily_db`.`scopes` (`name`, `user_id`) VALUES ('analityc.view', '7');
INSERT INTO `retaily_db`.`scopes` (`name`, `user_id`) VALUES ('product.add', '7');
INSERT INTO `retaily_db`.`scopes` (`name`, `user_id`) VALUES ('product.view', '7');
INSERT INTO `retaily_db`.`scopes` (`name`, `user_id`) VALUES ('product.edit', '7');
INSERT INTO `retaily_db`.`scopes` (`name`, `user_id`) VALUES ('product.pricelist', '7');
INSERT INTO `retaily_db`.`scopes` (`name`, `user_id`) VALUES ('product.view.cost', '7');




SELECT
      u.id,
      u.username,
      u.password,
      u.first_name,
      u.last_name,
      u.is_active,
      u.date_joined,
      u.last_login,
      u.pic
FROM
     app_users u
WHERE
    u.username = 'luis'
 ;

SELECT
      s.name as scope
FROM
     scopes s
WHERE
     s.user_id = 7
;




SELECT
    p.id,
    p.name,
    p.cost,
    p.price,
    p.margin,
    p.code,
    p.img_path,
    p.date_create,
    p.active,
    p.image_raw,
    i.quantity,
    s.name as store_name
  FROM product  p, app_inventory i, app_store s
WHERE
      p.id = i.product_id
  and s.id = i.store_id
  and s.name = 'MADELTA'
  ;


 SELECT
       i.*
FROM app_inventory i
;

UPDATE app_inventory i
  SET  i.prev_quantity = i.quantity ,
       i.quantity = i.quantity - %s
WHERE
      i.product_id = %s
  AND i.store_id = %s
;
SELECT * FROM sale_line;




-- SELECT_SALES_BY_INVOICE_STATUS
SELECT
	s.id,
    s.amount,
    s.sub,
    s.discount,
    s.tax_amount,
    s.delivery_charge,
    s.sequence,
    s.sequence_type,
    s.status,
    s.sale_type,
    s.date_create,
    s.login,
    cli.id as client_id,
    cli.name as client_name,
    cli.document_id,
    cli.celphone,
    (SELECT
        SUM(paid.amount)
	   FROM sale_paid paid
      WHERE  paid.sale_id = s.id
      GROUP BY paid.sale_id
	) as total_paid,
    (SELECT
         COUNT(*)
	  FROM sale_line line
     WHERE line.sale_id = s.id
     GROUP BY line.sale_id
    ) as total_line,

	(CASE
      WHEN s.status = 'RETURN' THEN 'cancelled'
      WHEN (s.amount - (SELECT
							SUM(paid.amount)
						   FROM sale_paid paid
						  WHERE  paid.sale_id = s.id
						  GROUP BY paid.sale_id
						)) > 0 THEN 'open'
      ELSE 'close'
	 END) as invoice_status
 FROM sale s,  app_store store, client cli
WHERE s.client_id = cli.id
  AND s.store_id = store.id
  AND store.name = 'MADELTA'
 --  AND s.date_create BETWEEN %s AND %s
  AND (CASE
      WHEN s.status = 'RETURN' THEN 'cancelled'
      WHEN (s.amount - (SELECT
							SUM(paid.amount)
						   FROM sale_paid paid
						  WHERE  paid.sale_id = s.id
						  GROUP BY paid.sale_id
						)) > 0 THEN 'open'
      ELSE 'close'
	 END) in ('open', 'cancelled', 'close')
  AND s.login REGEXP '^(wilton|danny)$'

-- ORDER BY s.id DESC
;
-- DANNY  14630
-- WILTON  8070
--        22700
-- select 14630 + 8070;
select COUNT(*) from sale s where s.login regexp '^(.+)$';

select COUNT(*) as g from sale s;

select * from app_users;



SELECT
	s.id,
    s.amount,
    s.sub,
    s.discount,
    s.tax_amount,
    s.delivery_charge,
    s.sequence,
    s.sequence_type,
    s.status,
    s.sale_type,
    s.date_create,
    s.login,
    cli.id as client_id,
    cli.name as client_name,
    cli.document_id,
    cli.celphone,
    (SELECT
        SUM(paid.amount)
	   FROM sale_paid paid
      WHERE  paid.sale_id = s.id
      GROUP BY paid.sale_id
	) as total_paid,
    (SELECT
         COUNT(*)
	  FROM sale_line line
     WHERE line.sale_id = s.id
     GROUP BY line.sale_id
    ) as total_line,

	(CASE
      WHEN s.status = 'RETURN' THEN 'cancelled'
      WHEN (s.amount - (SELECT
							SUM(paid.amount)
						   FROM sale_paid paid
						  WHERE  paid.sale_id = s.id
						  GROUP BY paid.sale_id
						)) > 0 THEN 'open'
      ELSE 'close'
	 END) as invoice_status
 FROM sale s,  app_store store, client cli
WHERE s.client_id = cli.id
  AND s.store_id = store.id
  AND store.name = 'SAMBIL'
  -- AND s.date_create BETWEEN %s AND %s
  AND (CASE
      WHEN s.status = 'RETURN' THEN 'cancelled'
      WHEN (s.amount - (SELECT
							SUM(paid.amount)
						   FROM sale_paid paid
						  WHERE  paid.sale_id = s.id
						  GROUP BY paid.sale_id
						)) > 0 THEN 'open'
      ELSE 'close'
	 END) in ('open', 'cancelled', 'close')
  AND cli.id = 22756
  -- AND s.login REGEXP 'massiel'
ORDER BY s.id DESC
;

select * from sale where sequence = 'B020000009434';
select * from client where id = 19067;

select * from product where length(trim(name)) > 50;


select MAX(id) from sale  ;
SELECT s.id FROM app_store s WHERE s.name = 'SAMBIL';

select * from sale  order by id desc ;

select * from app_sequence;
-- UPDATE app_sequence SET current_seq = current_seq + increment_by WHERE code = '%s';
select * from sale_line order by id DESC  limit 10; -- get sale_id

select * from sale_paid order by id desc limit 10; -- get sale_id


DELETE from sale where id = 300869;
DELETE from sale_line where sale_id = 300869 and id > 0;
DELETE from sale_paid where sale_id = 300869 and id > 0;


SELECT
      s.id,
      s.name,
      s.company_id,
      s.slogan,
      s.logo,
      s.address
FROM app_store s
 ORDER BY s.id
;

select * from client where id = 23063;

SELECT
    p.id,
    p.name,
    p.cost,
    pl.price,
    p.margin,
    p.code,
    p.img_path,
    p.date_create,
    p.active,
    p.image_raw,
    i.quantity,
    s.name as store_name
  FROM product  p, app_inventory i, app_store s, pricing_list pl, pricing pc
WHERE
      p.id = i.product_id
  AND s.id = i.store_id
  AND pl.pricing_id = pc.id
  AND pl.product_id  = i.product_id
  AND s.name = 'SAMBIL'
  AND pc.price_key = 'DEFAULT'
  AND p.active = 1
  ;


SELECT * FROM app_users;
delete from app_users where id = 10;
INSERT INTO app_users (username, password, first_name, last_name, is_active, date_joined, pic)
 VALUES('yojo', 'yokohamma', 'Yojo', 'Hokmbuma', 1, now(), 'xxxx0000xxpp')
 ;



 INSERT INTO scope_list (name)
 SELECT DISTINCT name FROM scopes;

 SELECT * FROM app_user_store;

 INSERT INTO app_user_store (user_id, store_id)
  VALUES (%s, %s)
  ;